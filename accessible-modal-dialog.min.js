!function(t){"use strict";function e(t){var e=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];return n(e.join(","),t).filter(function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)})}function n(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t)||[])}function i(t,n){var i=e(t),o=i.indexOf(document.activeElement);n.shiftKey&&0===o?(i[i.length-1].focus(),n.preventDefault()):n.shiftKey||o!==i.length-1||(i[0].focus(),n.preventDefault())}function o(t){var n=e(t);n.length&&n[0].focus()}var a,d=function(t,e){function d(){c.shown=!0,t.removeAttribute("aria-hidden"),e.setAttribute("aria-hidden","true"),a=document.activeElement,o(t)}function r(){c.shown=!1,t.setAttribute("aria-hidden","true"),e.removeAttribute("aria-hidden"),a.focus()}var c=this;e=e||document.querySelector("#main"),this.shown=!1,this.show=d,this.hide=r,n('[data-modal-show="'+t.id+'"]').forEach(function(t){t.addEventListener("click",d)}),n("[data-modal-hide]",t).concat(n('[data-modal-hide="'+t.id+'"]')).forEach(function(t){t.addEventListener("click",r)}),document.addEventListener("keydown",function(e){c.shown&&27===e.which&&(e.preventDefault(),r()),c.shown&&9===e.which&&i(t,e)}),document.body.addEventListener("focus",function(e){c.shown&&!t.contains(e.target)&&o(t)},!0)};t.Modal=d}(window);